{"version":3,"sources":["server/models/franchise.model.js"],"names":["FranchiseSchema","Schema","name","type","String","required","unique","description","timeZone","default","currency","location","coordinates","Number","geo_fence","registration_status","Boolean","Date","now","index","method","statics","get","id","findById","populate","exec","then","order","err","NOT_FOUND","reject","getByUserId","userId","findOne","where","findFranchiseContainingLocation","loc","find","$nearSphere","$geometry","$maxDistance","list","skip","limit","sort","createdAt","listByTeam","team","in","model"],"mappings":"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","file":"franchise.model.js","sourceRoot":"../../../../.."}