{"version":3,"sources":["server/models/order.model.js"],"names":["OrderSchema","Schema","id","type","Number","default","title","String","required","description","team","ref","pilot","from_name","from_phone","match","from_email","from_address","from_location","coordinates","from_date_time","Date","now","to_name","to_phone","to_email","to_address","to_location","to_date_time","timeZone","attachments","rating","status","timeline","acknowledged_notes","acknowledged_signature","acknowledged_image","acknowledged_date_time","pilot_movement","pilot_start_date_time","pilot_from_date_time","pilot_to_date_time","pilot_completed_date_time","distance_in_meters","time_in_seconds","tags","paymentType","createdBy","final_cost","payment_pending","Boolean","createdAt","index","initialize","connection","plugin","model","field","startAt","incrementBy","method","statics","get","findById","populate","path","exec","then","order","err","NOT_FOUND","reject","list","skip","limit","find","sort","listByPilotAndDate","date","diffInMinutes","tz","utcOffset","where","gte","startOf","subtract","lte","endOf","listByTeamAndDate","listByDate","listByCustomerAndDate","customer","listByTeamsAndDate","teams","in","listByPilotDateRangeStatus","fromDate","toDate","getUnAssigned","or"],"mappings":"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","file":"order.model.js","sourceRoot":"../../../../.."}