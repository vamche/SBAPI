{"version":3,"sources":["server/models/order.model.js"],"names":["OrderSchema","Schema","id","type","Number","default","title","String","required","description","team","pilot","ref","from_name","from_phone","match","from_email","from_address","from_location","coordinates","from_date_time","Date","now","to_name","to_phone","to_email","to_address","to_location","to_date_time","timeZone","attachments","rating","status","timeline","acknowledged_notes","acknowledged_signature","acknowledged_image","acknowledged_date_time","pilot_movement","pilot_start_date_time","pilot_from_date_time","pilot_to_date_time","pilot_completed_date_time","distance_in_meters","time_in_seconds","tags","paymentType","createdBy","final_cost","payment_pending","Boolean","createdAt","index","initialize","connection","plugin","model","field","startAt","incrementBy","method","statics","get","findById","populate","exec","then","order","err","NOT_FOUND","reject","list","skip","limit","find","sort","listByPilotAndDate","date","diffInMinutes","tz","utcOffset","where","gte","startOf","subtract","lte","endOf","listByTeamAndDate","path","listByDate","listByCustomerAndDate","customer","listByTeamsAndDate","teams","in","listByPilotDateRangeStatus","fromDate","toDate","getUnAssigned","or"],"mappings":"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","file":"order.model.js","sourceRoot":"../../../../.."}