{"version":3,"sources":["server/models/order.model.js"],"names":["OrderSchema","Schema","id","type","Number","default","value","title","String","required","description","team","ref","franchise","pilot","from_name","from_phone","match","from_email","from_address","from_location","coordinates","from_landmark","from_date_time","Date","now","to_name","to_phone","to_email","to_address","to_location","to_landmark","to_date_time","timeZone","attachments","rating","status","timeline","acknowledged_notes","acknowledged_signature","acknowledged_image","acknowledged_date_time","pilot_movement","pilot_start_date_time","pilot_from_date_time","pilot_to_date_time","pilot_completed_date_time","distance_in_meters","distance_picked_to_delivery_in_meters","time_in_seconds","tags","paymentType","createdByUserRole","createdBy","final_cost","payment_pending","Boolean","createdAt","index","initialize","connection","plugin","model","field","startAt","incrementBy","method","statics","get","findById","populate","path","exec","then","order","err","NOT_FOUND","reject","list","skip","limit","find","sort","listByPilotAndDate","date","diffInMinutes","tz","utcOffset","where","gte","startOf","subtract","lte","endOf","listByTeamAndDate","listByDate","listByCustomerAndDate","customer","listByFranchiseAndDate","listByTeamsAndDate","teams","in","listByPilotDateRangeStatus","fromDate","toDate","getUnAssigned","or"],"mappings":"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","file":"order.model.js","sourceRoot":"../../../../.."}