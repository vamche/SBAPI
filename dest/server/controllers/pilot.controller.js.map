{"version":3,"sources":["server/controllers/pilot.controller.js"],"names":["load","req","res","next","id","get","then","pilot","catch","e","json","getUnAssignedPilotsByTeam","team","isActive","find","where","in","create","body","image","img","uploadImgAsync","source","attachment","result","url","isOrderRelated","type","extension","save","user","firstName","lastName","username","password","mobileNumber","emailAddress","savedAttachment","_id","savedUser","teams","savedPilot","createPilot","customer","location","savedCustomer","updateLocation","battery","isAvailable","updateTeams","update","list","query","limit","skip","pilots","remove","deletedPilot","getSales","fromDate","format","toDate","sales","promises","map","total","p","toString","gte","startOf","lte","endOf","orders","forEach","order","final_cost","push","name","all","getSalesByPilot","getTimesheets","times","sort","createdAt","diff","len","timesheets","timesheet","unix","length","getTimesheetsByPilot","stats","getPilots","available","offline","listByManager","manager","isAdmin","isFranchiseAdmin","franchise","listByTeam","updateAvailability","getActivity","pilotId","date","timeZone","listByPilotAndDate","completed","assigned","distance","amount","activeOrder","o","distance_in_meters","status","distanceInMeters"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,SAASA,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BC,EAA9B,EAAkC;AAChC,oBAAMC,GAAN,CAAUD,EAAV,EACGE,IADH,CACQ,UAACC,KAAD,EAAW;AACfN,YAAIM,KAAJ,GAAYA,KAAZ,CADe,CACI;AACnB,eAAOJ,MAAP;AACD,KAJH,EAKGK,KALH,CAKS;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KALT;AAMD;;AAED;;;;AAIA,SAASJ,GAAT,CAAaJ,GAAb,EAAkBC,GAAlB,EAAuB;AACrB,WAAOA,IAAIQ,IAAJ,CAAST,IAAIM,KAAb,CAAP;AACD;;AAED,SAASI,yBAAT,CAAmCC,IAAnC,EAAyCC,QAAzC,EAAkD;AAChD,QAAGD,SAAS,KAAT,IAAkBA,SAAS,GAA3B,IAAkCA,SAAS,EAA3C,IAAiDA,SAAS,IAA7D,EAAkE;AAChE,eAAO,gBAAME,IAAN,GACJC,KADI,CACE,aADF,EACiB,IADjB,EAEJA,KAFI,CAEE,UAFF,EAEcF,QAFd,CAAP;AAGD,KAJD,MAIM;AACJ,eAAO,gBAAMC,IAAN,GACJC,KADI,CACE,aADF,EACiB,IADjB,EAEJA,KAFI,CAEE,UAFF,EAEcF,QAFd,EAGJE,KAHI,CAGE,OAHF,EAGWC,EAHX,CAGc,CAACJ,IAAD,CAHd,CAAP;AAID;AACF;;AAED;;;;;;AAMA,SAASK,MAAT,CAAgBhB,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;;AAE9B,QAAGF,IAAIiB,IAAJ,CAASC,KAAZ,EAAmB;AAAA;AACjB,gBAAMC,MAAMnB,IAAIiB,IAAJ,CAASC,KAArB;AACAE,2BAAeD,IAAIE,MAAnB,EACGhB,IADH,CACQ,eAAO;;AAEX,oBAAMiB,aAAa,IAAI,yBAAe;AACpCD,4BAAQE,OAAOC,GADqB;AAEpCC,oCAAgB,KAFoB;AAGpCC,0BAAMP,IAAIO,IAH0B;AAIpCC,+BAAWR,IAAIQ;AAJqB,iBAAf,CAAJ,EAAnB;;AAOAL,2BAAWM,IAAX,GACGvB,IADH,CACQ,2BAAmB;AACvB,wBAAMwB,OAAO,mBAAS;AACpBC,mCAAY9B,IAAIiB,IAAJ,CAASa,SADD;AAEpBC,kCAAW/B,IAAIiB,IAAJ,CAASc,QAFA;AAGpBC,kCAAWhC,IAAIiB,IAAJ,CAASe,QAHA;AAIpBC,kCAAWjC,IAAIiB,IAAJ,CAASgB,QAJA;AAKpBC,sCAAelC,IAAIiB,IAAJ,CAASiB,YALJ;AAMpBC,sCAAenC,IAAIiB,IAAJ,CAASkB,YANJ;AAOpBjB,+BAAQkB,gBAAgBC;AAPJ,qBAAT,CAAb;;AAUAR,yBAAKD,IAAL,GACGvB,IADH,CACQ,qBAAa;AACjB,4BAAMC,QAAQ,oBAAU;AACtBuB,kCAAOS,UAAUD,GADK;AAEtBE,mCAAQvC,IAAIiB,IAAJ,CAASsB;AAFK,yBAAV,CAAd;AAIAjC,8BAAMsB,IAAN,GACGvB,IADH,CACQ,sBAAc;AAClBJ,gCAAIQ,IAAJ,CAAS+B,UAAT;AACD,yBAHH,EAIGjC,KAJH,CAIS;AAAA,mCAAKL,KAAKM,CAAL,CAAL;AAAA,yBAJT;AAKD,qBAXH,EAYGD,KAZH,CAYS;AAAA,+BAAKL,KAAKM,CAAL,CAAL;AAAA,qBAZT;AAcD,iBA1BH,EA2BGD,KA3BH,CA2BS;AAAA,2BAAKL,KAAKM,CAAL,CAAL;AAAA,iBA3BT;AA4BD,aAtCH;AAFiB;AAyClB,KAzCD,MAyCO;AACL,YAAMqB,OAAO,mBAAS;AACpBC,uBAAY9B,IAAIiB,IAAJ,CAASa,SADD;AAEpBC,sBAAW/B,IAAIiB,IAAJ,CAASc,QAFA;AAGpBC,sBAAWhC,IAAIiB,IAAJ,CAASe,QAHA;AAIpBC,sBAAWjC,IAAIiB,IAAJ,CAASgB,QAJA;AAKpBC,0BAAelC,IAAIiB,IAAJ,CAASiB,YALJ;AAMpBC,0BAAenC,IAAIiB,IAAJ,CAASkB;AANJ,SAAT,CAAb;;AASAN,aAAKD,IAAL,GACGvB,IADH,CACQ,qBAAa;AACjB,gBAAMC,QAAQ,oBAAU;AACtBuB,sBAAOS,UAAUD,GADK;AAEtBE,uBAAQvC,IAAIiB,IAAJ,CAASsB;AAFK,aAAV,CAAd;AAIAjC,kBAAMsB,IAAN,GACGvB,IADH,CACQ,sBAAc;AAClBJ,oBAAIQ,IAAJ,CAAS+B,UAAT;AACD,aAHH,EAIGjC,KAJH,CAIS;AAAA,uBAAKL,KAAKM,CAAL,CAAL;AAAA,aAJT;AAKD,SAXH,EAYGD,KAZH,CAYS;AAAA,mBAAKL,KAAKM,CAAL,CAAL;AAAA,SAZT;AAaD;AACF;;AAGD,SAASiC,WAAT,CAAqBzC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAoC;;AAEhC,QAAM2B,OAAO,mBAAS;AAClBC,mBAAY9B,IAAIiB,IAAJ,CAASa,SADH;AAElBC,kBAAW/B,IAAIiB,IAAJ,CAASc,QAFF;AAGlBC,kBAAWhC,IAAIiB,IAAJ,CAASe,QAHF;AAIlBC,kBAAWjC,IAAIiB,IAAJ,CAASgB,QAJF;AAKlBC,sBAAelC,IAAIiB,IAAJ,CAASiB,YALN;AAMlBC,sBAAenC,IAAIiB,IAAJ,CAASkB;AANN,KAAT,CAAb;;AASAN,SAAKD,IAAL,GACKvB,IADL,CACU,qBAAa;AACf,YAAMqC,WAAW,oBAAU;AACvBb,kBAAOS,UAAUD,GADM;AAEvBE,mBAAQvC,IAAIiB,IAAJ,CAASsB,KAFM;AAGvBI,sBAAW3C,IAAIiB,IAAJ,CAAS0B;AAHG,SAAV,CAAjB;AAKAD,iBAASd,IAAT,GACKvB,IADL,CACU,yBAAiB;AACnBJ,gBAAIQ,IAAJ,CAASmC,aAAT;AACH,SAHL,EAIKrC,KAJL,CAIW;AAAA,mBAAKL,KAAKM,CAAL,CAAL;AAAA,SAJX;AAKH,KAZL,EAaKD,KAbL,CAaW;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAbX;AAcH;;AAED,SAASqC,cAAT,CAAwB7C,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwC;AACtC,QAAMI,QAAQN,IAAIM,KAAlB;AACAA,UAAMqC,QAAN,GAAiB3C,IAAIiB,IAAJ,CAAS0B,QAA1B;AACArC,UAAMwC,OAAN,GAAgB9C,IAAIiB,IAAJ,CAAS6B,OAAzB;AACAxC,UAAMyC,WAAN,GAAoB/C,IAAIiB,IAAJ,CAAS8B,WAA7B;AACAzC,UAAMsB,IAAN,GACGvB,IADH,CACQ;AAAA,eAAcJ,IAAIQ,IAAJ,CAAS+B,UAAT,CAAd;AAAA,KADR,EAEGjC,KAFH,CAES;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAFT;AAGD;;AAED,SAASwC,WAAT,CAAqBhD,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACnC,QAAMI,QAAQN,IAAIM,KAAlB;AACAA,UAAMiC,KAAN,GAAcvC,IAAIiB,IAAJ,CAASsB,KAAvB;AACAjC,UAAMsB,IAAN,GACGvB,IADH,CACQ;AAAA,eAAcJ,IAAIQ,IAAJ,CAAS+B,UAAT,CAAd;AAAA,KADR,EAEGjC,KAFH,CAES;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAFT;AAGD;;AAED;;;;;;AAMA,SAASyC,MAAT,CAAgBjD,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AAC9B,QAAMI,QAAQN,IAAIM,KAAlB;AACAA,UAAMiC,KAAN,GAAcvC,IAAIiB,IAAJ,CAASsB,KAAvB;AACAjC,UAAMsB,IAAN,GACGvB,IADH,CACQ;AAAA,eAAcJ,IAAIQ,IAAJ,CAAS+B,UAAT,CAAd;AAAA,KADR,EAEGjC,KAFH,CAES;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAFT;AAGD;;AAED;;;;;;AAMA,SAAS0C,IAAT,CAAclD,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AAAA,qBACKF,IAAImD,KADT;AAAA,sCACpBC,KADoB;AAAA,QACpBA,KADoB,oCACZ,EADY;AAAA,qCACRC,IADQ;AAAA,QACRA,IADQ,mCACD,CADC;;AAE5B,oBAAMH,IAAN,CAAW,EAAEE,YAAF,EAASC,UAAT,EAAX,EACGhD,IADH,CACQ;AAAA,eAAUJ,IAAIQ,IAAJ,CAAS6C,MAAT,CAAV;AAAA,KADR,EAEG/C,KAFH,CAES;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAFT;AAGD;;AAED;;;;AAIA,SAAS+C,MAAT,CAAgBvD,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AAC9B,QAAMI,QAAQN,IAAIM,KAAlB;AACAA,UAAMiD,MAAN,GACGlD,IADH,CACQ;AAAA,eAAgBJ,IAAIQ,IAAJ,CAAS+C,YAAT,CAAhB;AAAA,KADR,EAEGjD,KAFH,CAES;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAFT;AAGD;;AAED,SAASiD,QAAT,CAAkBzD,GAAlB,EAAuBC,GAAvB,EAA4BC,IAA5B,EAAiC;AAAA,oBAC4DF,IAAIiB,IADhE;AAAA,uCACrByC,QADqB;AAAA,QACrBA,QADqB,sCACV,wBAASC,MAAT,CAAgB,UAAhB,CADU;AAAA,qCACmBC,MADnB;AAAA,QACmBA,MADnB,oCAC4B,wBAASD,MAAT,CAAgB,UAAhB,CAD5B;;AAE7B,QAAIE,QAAQ,EAAZ,CAF6B,CAEb;AAChB,QAAIC,iBAAJ;AACA,oBAAMjD,IAAN,GACKR,IADL,CACU,kBAAU;AACZyD,mBAAWR,OAAOS,GAAP,CAAW,iBAAS;AAC3B,gBAAIC,QAAQ,CAAZ;AACA,gBAAMC,IAAI,gBAAMpD,IAAN,GACLC,KADK,CACC,OADD,EACUR,MAAM+B,GAAN,CAAU6B,QAAV,EADV,EAELpD,KAFK,CAEC,WAFD,EAEcqD,GAFd,CAEkB,sBAAOT,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,CAFlB,EAE+DC,GAF/D,CAEmE,sBAAOT,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,CAFnE,EAGLjE,IAHK,CAGA,kBAAU;AACZkE,uBAAOC,OAAP,CAAe,iBAAS;AACpBR,4BAAQA,QAAQS,MAAMC,UAAtB;AACH,iBAFD;AAGAb,sBAAMc,IAAN,CAAW;AACP,2BAAQrE,MAAM+B,GADP;AAEP,4BAAS/B,MAAMsE,IAFR;AAGP,6BAAUZ;AAHH,iBAAX;AAKH,aAZK,EAaLzD,KAbK,CAaC;AAAA,uBAAKL,KAAKM,CAAL,CAAL;AAAA,aAbD,CAAV;AAcA,mBAAOyD,CAAP;AACH,SAjBU,CAAX;AAkBA,2BAASY,GAAT,CAAaf,QAAb,EACKzD,IADL,CACU;AAAA,mBAAMJ,IAAIQ,IAAJ,CAASoD,KAAT,CAAN;AAAA,SADV,EAEKtD,KAFL,CAEW;AAAA,mBAAKL,KAAKM,CAAL,CAAL;AAAA,SAFX;AAGH,KAvBL,EAwBKD,KAxBL,CAwBW;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAxBX;AAyBH;;AAED,SAASsE,eAAT,CAAyB9E,GAAzB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAwC;AAAA,qBACqDF,IAAIiB,IADzD;AAAA,yCAC5ByC,QAD4B;AAAA,QAC5BA,QAD4B,uCACjB,wBAASC,MAAT,CAAgB,UAAhB,CADiB;AAAA,uCACYC,MADZ;AAAA,QACYA,MADZ,qCACqB,wBAASD,MAAT,CAAgB,UAAhB,CADrB;;AAEpC,QAAIE,cAAJ,CAFoC,CAEzB;AACX,oBAAMhD,IAAN,GACKC,KADL,CACW,OADX,EACoBd,IAAIM,KAAJ,CAAU+B,GAAV,CAAc6B,QAAd,EADpB,EAEKpD,KAFL,CAEW,WAFX,EAEwBqD,GAFxB,CAE4B,sBAAOT,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,CAF5B,EAEyEC,GAFzE,CAE6E,sBAAOT,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,CAF7E,EAGKjE,IAHL,CAGU,kBAAU;AACZ,YAAI2D,QAAQ,CAAZ;AACAO,eAAOC,OAAP,CAAe,iBAAS;AACpBR,oBAAQA,QAAQS,MAAMC,UAAtB;AACH,SAFD;AAGAb,gBAAQ;AACJ,mBAAQ7D,IAAIM,KAAJ,CAAU+B,GADd;AAEJ,oBAASrC,IAAIM,KAAJ,CAAUsE,IAFf;AAGJ,qBAAUZ,KAHN;AAIJ,sBAAWO;AAJP,SAAR;AAMAtE,YAAIQ,IAAJ,CAASoD,KAAT;AACH,KAfL,EAgBKtD,KAhBL,CAgBW;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAhBX;AAiBH;;AAGD,SAASuE,aAAT,CAAuB/E,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAsC;AAAA,qBACuDF,IAAIiB,IAD3D;AAAA,yCAC1ByC,QAD0B;AAAA,QAC1BA,QAD0B,uCACf,wBAASC,MAAT,CAAgB,UAAhB,CADe;AAAA,uCACcC,MADd;AAAA,QACcA,MADd,qCACuB,wBAASD,MAAT,CAAgB,UAAhB,CADvB;;AAElC,QAAIqB,QAAQ,EAAZ,CAFkC,CAElB;AAChB,QAAIlB,iBAAJ;AACA,oBAAMjD,IAAN,GACKR,IADL,CACU,kBAAU;AACZyD,mBAAWR,OAAOS,GAAP,CAAW,iBAAS;AAC3B,gBAAIC,QAAQ,CAAZ;AACA,gBAAMC,IAAI,oBAAUpD,IAAV,GACLC,KADK,CACC,OADD,EACUR,MAAM+B,GAAN,CAAU6B,QAAV,EADV,EAELpD,KAFK,CAEC,WAFD,EAEcqD,GAFd,CAEkB,sBAAOT,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,CAFlB,EAE+DC,GAF/D,CAEmE,sBAAOT,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,CAFnE,EAGLW,IAHK,CAGA,EAAEC,WAAW,CAAb,EAHA,EAIL7E,IAJK,CAIA,sBAAc;AAChB,oBAAI8E,OAAO,CAAX;AACA,oBAAIC,MAAM,CAAV;AACAC,2BAAWb,OAAX,CAAmB,qBAAa;AAC5BY;AACA,wBAAGA,QAAQ,CAAX,EAAc;AACV,4BAAGE,UAAUvC,WAAb,EAAyB;AACrBoC,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,yBAFD,MAEK;AACDJ,oCAAQ,sBAAOzB,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,EAA4CmB,IAA5C,EAAR;AACAJ,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH;AACJ,qBAPD,MAOM,IAAGH,QAAQC,WAAWG,MAAtB,EAA6B;AAC/B,4BAAG,CAACF,UAAUvC,WAAd,EAA0B;AACtBoC,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,yBAFD,MAEK;AACDJ,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACA,gCAAG3B,WAAW,wBAASD,MAAT,CAAgB,UAAhB,CAAd,EAA0C;AACtCwB,wCAAQ,wBAASI,IAAT,EAAR;AACH,6BAFD,MAEK;AACDJ,wCAAQ,sBAAOvB,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,EAAwCiB,IAAxC,EAAR;AACH;AACJ;AACJ,qBAXK,MAWA;AACF,4BAAGD,UAAUvC,WAAb,EAAyB;AACrBoC,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,yBAFD,MAEK;AACDJ,oCAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH;AACJ;AACJ,iBA3BD;AA4BAP,sBAAML,IAAN,CAAW;AACP,2BAAQrE,MAAM+B,GADP;AAEP,4BAAS/B,MAAMsE,IAFR;AAGP,4BAASO,QAAM,KAAG,EAAT,CAHF;AAIP,kCAAeE;AAJR,iBAAX;AAMH,aAzCK,EA0CL9E,KA1CK,CA0CC;AAAA,uBAAKL,KAAKM,CAAL,CAAL;AAAA,aA1CD,CAAV;AA2CA,mBAAOyD,CAAP;AACH,SA9CU,CAAX;AA+CA,2BAASY,GAAT,CAAaf,QAAb,EACKzD,IADL,CACU;AAAA,mBAAMJ,IAAIQ,IAAJ,CAASuE,KAAT,CAAN;AAAA,SADV,EAEKzE,KAFL,CAEW;AAAA,mBAAKL,KAAKM,CAAL,CAAL;AAAA,SAFX;AAGH,KApDL,EAqDKD,KArDL,CAqDW;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KArDX;AAsDH;;AAED,SAASiF,oBAAT,CAA8BzF,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA6C;AAAA,qBACgDF,IAAIiB,IADpD;AAAA,yCACjCyC,QADiC;AAAA,QACjCA,QADiC,uCACtB,wBAASC,MAAT,CAAgB,UAAhB,CADsB;AAAA,uCACOC,MADP;AAAA,QACOA,MADP,qCACgB,wBAASD,MAAT,CAAgB,UAAhB,CADhB;;AAEzC,QAAIE,cAAJ,CAFyC,CAE9B;AACX,QAAImB,cAAJ;AACA,wBAAUnE,IAAV,GACKC,KADL,CACW,OADX,EACoBd,IAAIM,KAAJ,CAAU+B,GAAV,CAAc6B,QAAd,EADpB,EAEKpD,KAFL,CAEW,WAFX,EAEwBqD,GAFxB,CAE4B,sBAAOT,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,CAF5B,EAEyEC,GAFzE,CAE6E,sBAAOT,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,CAF7E,EAGKW,IAHL,CAGU,EAAEC,WAAW,CAAb,EAHV,EAIK7E,IAJL,CAIU,sBAAc;AAChB,YAAI8E,OAAO,CAAX;AACA,YAAIC,MAAM,CAAV;AACAC,mBAAWb,OAAX,CAAmB,qBAAa;AAC5BY;AACA,gBAAGA,QAAQ,CAAX,EAAc;AACV,oBAAGE,UAAUvC,WAAb,EAAyB;AACrBoC,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,iBAFD,MAEK;AACDJ,4BAAQ,sBAAOzB,QAAP,EAAiB,UAAjB,EAA6BU,OAA7B,CAAqC,KAArC,EAA4CmB,IAA5C,EAAR;AACAJ,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH;AACJ,aAPD,MAOM,IAAGH,QAAQC,WAAWG,MAAtB,EAA6B;AAC/B,oBAAG,CAACF,UAAUvC,WAAd,EAA0B;AACtBoC,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,iBAFD,MAEK;AACDJ,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACA,wBAAG3B,WAAW,wBAASD,MAAT,CAAgB,UAAhB,CAAd,EAA0C;AACtCwB,gCAAQ,wBAASI,IAAT,EAAR;AACH,qBAFD,MAEK;AACDJ,gCAAQ,sBAAOvB,MAAP,EAAe,UAAf,EAA2BU,KAA3B,CAAiC,KAAjC,EAAwCiB,IAAxC,EAAR;AACH;AACJ;AACJ,aAXK,MAWA;AACF,oBAAGD,UAAUvC,WAAb,EAAyB;AACrBoC,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH,iBAFD,MAEK;AACDJ,4BAAQ,sBAAOG,UAAUJ,SAAjB,EAA4BK,IAA5B,EAAR;AACH;AACJ;AACJ,SA3BD;AA4BAP,gBAAQ;AACJ,mBAAQhF,IAAIM,KAAJ,CAAU+B,GADd;AAEJ,oBAASrC,IAAIM,KAAJ,CAAUsE,IAFf;AAGJ,oBAASO,QAAM,KAAG,EAAT,CAHL;AAIJ,0BAAeE;AAJX,SAAR;AAMApF,YAAIQ,IAAJ,CAASuE,KAAT;AACH,KA1CL,EA2CKzE,KA3CL,CA2CW;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KA3CX;AA4CH;;AAED,SAASkF,KAAT,CAAe1F,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA8B;AAC1B,QAAIqC,QAAQ,EAAZ;AACA,QAAM5B,OAAOX,IAAIiB,IAAJ,CAASN,IAAtB;AACA,QAAIgF,kBAAJ;AACA,QAAIhF,QAAQA,QAAQ,GAAhB,IAAuBA,QAAQ,KAA/B,IAAwC4B,SAAS,EAArD,EAAyD;AACvDA,gBAAQ,CAAC5B,IAAD,CAAR;AACAgF,oBAAY,gBAAM9E,IAAN,GACTC,KADS,CACH,OADG,EACMC,EADN,CACSwB,KADT,CAAZ;AAED,KAJD,MAIM;AACJoD,oBAAY,gBAAM9E,IAAN,EAAZ;AACD;AACC8E,cACCtF,IADD,CACM,kBAAU;AACd,YAAMqF,QAAQ;AACZE,uBAAY,CADA;AAEZC,qBAAU,CAFE;AAGZ7B,mBAAO;AAHK,SAAd;AAKAV,eAAOkB,OAAP,CAAe,iBAAS;AACtB,gBAAIlE,MAAMyC,WAAV,EAAuB;AACrB2C,sBAAME,SAAN;AACD,aAFD,MAEM;AACJF,sBAAMG,OAAN;AACD;AACDH,kBAAM1B,KAAN;AACD,SAPD;AAQA/D,YAAIQ,IAAJ,CAASiF,KAAT;AACD,KAhBD,EAiBCnF,KAjBD,CAiBO;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAjBP;AAmBL;;AAED,SAASsF,aAAT,CAAuB9F,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AAAA,sBACHF,IAAImD,KADD;AAAA,wCAC7BC,KAD6B;AAAA,QAC7BA,KAD6B,qCACrB,GADqB;AAAA,uCAChBC,IADgB;AAAA,QAChBA,IADgB,oCACT,CADS;AAAA,qBAEXrD,IAAIiB,IAFO;AAAA,QAE7BN,IAF6B,cAE7BA,IAF6B;AAAA,QAEvBoF,OAFuB,cAEvBA,OAFuB;;AAGrC,QAAG,CAACpF,IAAD,IAASA,SAAS,EAAlB,IAAwBA,SAAS,GAAjC,IAAwCA,SAAS,KAApD,EAA0D;AACxD,0BAAQP,GAAR,CAAYJ,IAAIiB,IAAJ,CAAS8E,OAArB,EACG1F,IADH,CACQ,mBAAW;AACf,gBAAG0F,QAAQC,OAAX,EAAmB;AACjB,gCAAM9C,IAAN,CAAW,EAAEE,YAAF,EAASC,UAAT,EAAX,EACGhD,IADH,CACQ;AAAA,2BAAUJ,IAAIQ,IAAJ,CAAS6C,MAAT,CAAV;AAAA,iBADR,EAEG/C,KAFH,CAES;AAAA,2BAAKL,KAAKM,CAAL,CAAL;AAAA,iBAFT;AAGD,aAJD,MAIM,IAAGuF,QAAQE,gBAAX,EAA6B;AACjC,oCAAU7F,GAAV,CAAc2F,QAAQG,SAAtB,EACG7F,IADH,CACQ,qBAAa;AACjB,oCAAM6C,IAAN,CAAW,EAAEE,YAAF,EAASC,UAAT,EAAX,EACGvC,KADH,CACS,OADT,EACkBC,EADlB,CACqBmF,UAAU3D,KAD/B,EAEGlC,IAFH,CAEQ;AAAA,+BAAUJ,IAAIQ,IAAJ,CAAS6C,MAAT,CAAV;AAAA,qBAFR,EAGG/C,KAHH,CAGS;AAAA,+BAAKL,KAAKM,CAAL,CAAL;AAAA,qBAHT;AAID,iBANH,EAOGD,KAPH,CAOS;AAAA,2BAAKL,KAAKM,CAAL,CAAL;AAAA,iBAPT;AAQD,aATK,MASA;AACJ,gCAAM0C,IAAN,CAAW,EAAEE,YAAF,EAASC,UAAT,EAAX,EACGvC,KADH,CACS,OADT,EACkBC,EADlB,CACqBgF,QAAQxD,KAD7B,EAEGlC,IAFH,CAEQ;AAAA,2BAAUJ,IAAIQ,IAAJ,CAAS6C,MAAT,CAAV;AAAA,iBAFR,EAGG/C,KAHH,CAGS;AAAA,2BAAKL,KAAKM,CAAL,CAAL;AAAA,iBAHT;AAID;AACF,SArBH;AAsBD,KAvBD,MAuBM;AACJ2F,mBAAWnG,GAAX,EAAgBC,GAAhB,EAAqBC,IAArB;AACD;AACF;;AAED,SAASiG,UAAT,CAAoBnG,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAmC;AACjC,QAAMS,OAAOX,IAAIiB,IAAJ,CAASN,IAAtB;AACA,oBAAME,IAAN,GACGC,KADH,CACS,OADT,EACkBC,EADlB,CACqB,CAACJ,IAAD,CADrB,EAEGN,IAFH,CAEQ;AAAA,eAAUJ,IAAIQ,IAAJ,CAAS6C,MAAT,CAAV;AAAA,KAFR,EAGG/C,KAHH,CAGS;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAHT;AAID;;AAED,SAAS4F,kBAAT,CAA4BpG,GAA5B,EAAiCC,GAAjC,EAAsCC,IAAtC,EAA2C;AACzC,QAAMI,QAAQN,IAAIM,KAAlB;AACAA,UAAMyC,WAAN,GAAoB/C,IAAIiB,IAAJ,CAAS8B,WAA7B;AACAzC,UAAMqC,QAAN,GAAiB3C,IAAIiB,IAAJ,CAAS0B,QAA1B;AACArC,UAAMwC,OAAN,GAAgB9C,IAAIiB,IAAJ,CAAS6B,OAAzB;AACAxC,UAAMsB,IAAN,GACGvB,IADH,CACQ,sBAAc;AAClB,YAAMiF,YAAY,wBAAc;AAC9BvC,yBAAaP,WAAWO,WADM;AAE9BzC,mBAAOkC,WAAWH,GAAX,CAAe6B,QAAf,EAFuB;AAG9BvB,sBAAUH,WAAWG;AAHS,SAAd,CAAlB;AAKA2C,kBAAU1D,IAAV,GACGvB,IADH,CACQ;AAAA,mBAAaJ,IAAIQ,IAAJ,CAAS6E,SAAT,CAAb;AAAA,SADR,EAEG/E,KAFH,CAES;AAAA,mBAAKL,KAAKM,CAAL,CAAL;AAAA,SAFT;AAID,KAXH,EAYGD,KAZH,CAYS;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KAZT;AAaD;;AAED,SAAS6F,WAAT,CAAqBrG,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACnC,QAAMI,QAAQN,IAAIM,KAAlB;AACA,QAAMgG,UAAUhG,MAAM+B,GAAN,CAAU6B,QAAV,EAAhB;AAFmC,sBAGDlE,IAAImD,KAHH;AAAA,wCAG3BC,KAH2B;AAAA,QAG3BA,KAH2B,qCAGnB,GAHmB;AAAA,uCAGdC,IAHc;AAAA,QAGdA,IAHc,oCAGP,CAHO;AAAA,qBAIRrD,IAAIiB,IAJI;AAAA,QAI3BsF,IAJ2B,cAI3BA,IAJ2B;AAAA,QAIrBC,QAJqB,cAIrBA,QAJqB;;AAKnC,oBAAMC,kBAAN,CAAyB,EAACnG,OAAQgG,OAAT,EAAkBC,UAAlB,EAAwBC,kBAAxB,EAAkCpD,YAAlC,EAAyCC,UAAzC,EAAzB,EACGhD,IADH,CACQ,kBAAU;AACd,YAAIqG,YAAY,CAAhB;AACA,YAAIC,WAAW,CAAf;AACA,YAAIC,WAAW,CAAf;AACA,YAAIC,SAAS,CAAb;AACA,YAAIC,cAAc,EAAlB;AACAvC,eAAOC,OAAP,CAAe,aAAK;AAClBoC,wBAAYG,EAAEC,kBAAd;AACAH,sBAAWE,EAAErC,UAAb;AACA,gBAAGqC,EAAEE,MAAF,IAAY,WAAZ,IAA2BF,EAAEE,MAAF,IAAY,QAA1C,EAAmD;AACjDP;AACD,aAFD,MAEM;AACJC;AACD;AACD,gBAAGI,EAAEE,MAAF,IAAY,UAAZ,IAA0BF,EAAEE,MAAF,IAAY,WAAtC,IAAqDF,EAAEE,MAAF,IAAY,QAApE,EAA8E;AAC5EH,8BAAcC,CAAd;AACD;AAEF,SAZD;AAaAzG,cAAMuB,IAAN,CAAWI,QAAX,GAAsB,WAAtB;AACAhC,YAAIQ,IAAJ,CAAS;AACPiG,uBAAWA,SADJ;AAEPC,sBAAUA,QAFH;AAGPO,8BAAkBN,QAHX;AAIPC,oBAAQA,MAJD;AAKPvG,mBAAOA,KALA;AAMPiE,oBAAQA,MAND;AAOPuC,yBAAcA;AAPP,SAAT;AASD,KA9BH,EA+BGvG,KA/BH,CA+BS;AAAA,eAAKL,KAAKM,CAAL,CAAL;AAAA,KA/BT;AAiCD;;kBAGc;AACbT,cADa,EACPK,QADO,EACFY,cADE,EACMiC,cADN,EACcC,UADd,EACoBK,cADpB,EAC4BV,8BAD5B,EAC4CG,wBAD5C;AAEXtC,wDAFW,EAEgB+B,wBAFhB,EAE6BgB,kBAF7B,EAEuCqB,gCAFvC,EAEwDC,4BAFxD,EAEuEU,0CAFvE;AAGXC,gBAHW,EAGJS,sBAHI,EAGQC,sCAHR,EAG4BN,4BAH5B,EAG2CO,wBAH3C,E","file":"pilot.controller.js","sourceRoot":"../../../../.."}