{"version":3,"sources":["server/controllers/pilot.controller.js"],"names":["sendSMS","mobiles","message","route","url","get","then","response","console","log","catch","error","load","req","res","next","id","pilot","e","json","getUnAssignedPilotsByTeam","team","isActive","find","where","in","create","body","image","img","uploadImgAsync","source","attachment","result","isOrderRelated","type","extension","save","user","firstName","lastName","username","password","mobileNumber","emailAddress","savedAttachment","_id","savedUser","teams","savedPilot","createPilot","customer","location","savedCustomer","updateLocation","battery","isAvailable","updateTeams","update","list","query","limit","skip","pilots","remove","deletedPilot","getSales","fromDate","format","toDate","sales","promises","map","total","p","toString","gte","startOf","lte","endOf","orders","forEach","order","final_cost","push","name","all","getSalesByPilot","getTimesheets","times","sort","createdAt","diff","len","timesheets","timesheet","unix","length","getTimesheetsByPilot","stats","getPilots","available","offline","listByManager","manager","isAdmin","isFranchiseAdmin","franchise","listByTeam","updateAvailability","getActivity","pilotId","date","timeZone","listByPilotAndDate","completed","assigned","distance","amount","activeOrder","o","distance_in_meters","status","distanceInMeters"],"mappings":"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","file":"pilot.controller.js","sourceRoot":"../../../../.."}