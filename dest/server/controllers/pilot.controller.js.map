{"version":3,"sources":["server/controllers/pilot.controller.js"],"names":["sendSMS","mobiles","message","route","url","get","then","response","console","log","catch","error","load","req","res","next","id","pilot","e","json","getUnAssignedPilotsByTeam","team","isActive","franchise","find","where","in","create","body","image","img","uploadImgAsync","source","attachment","result","isOrderRelated","type","extension","save","user","firstName","lastName","username","password","mobileNumber","emailAddress","savedAttachment","_id","savedUser","teams","savedPilot","createPilot","customer","location","savedCustomer","updateLocation","battery","isAvailable","updateTeams","update","list","query","limit","skip","pilots","remove","deletedPilot","getSales","fromDate","format","toDate","sales","promises","map","total","p","toString","gte","startOf","lte","endOf","orders","forEach","order","final_cost","push","name","all","getSalesByPilot","getTimesheets","times","sort","createdAt","diff","len","timesheets","timesheet","unix","length","getTimesheetsByPilot","stats","getPilots","available","offline","listByManager","manager","isAdmin","isFranchiseAdmin","listByTeam","updateAvailability","getActivity","pilotId","date","timeZone","listByPilotAndDate","completed","assigned","distance","amount","activeOrder","o","distance_in_meters","status","distanceInMeters"],"mappings":"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","file":"pilot.controller.js","sourceRoot":"../../../../.."}