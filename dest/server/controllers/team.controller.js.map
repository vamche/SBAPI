{"version":3,"sources":["server/controllers/team.controller.js"],"names":["load","req","res","next","id","get","then","team","catch","e","json","create","name","body","tags","franchise","save","savedTeam","update","list","query","limit","skip","teams","listByFranchise","remove","deletedTeam","getSales","fromDate","format","toDate","sales","promises","find","where","map","total","numberOfOrders","p","_id","toString","gte","startOf","lte","endOf","orders","forEach","order","final_cost","push","all","getSalesByTeam"],"mappings":"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","file":"team.controller.js","sourceRoot":"../../../../.."}