{"version":3,"sources":["server/controllers/customer.controller.js"],"names":["load","req","res","next","id","get","then","customer","catch","e","json","create","userId","body","teams","location","save","savedCustomer","createCustomer","user","firstName","lastName","username","password","mobileNumber","emailAddress","savedUser","_id","toString","isMerchant","updateLocation","updateTeams","update","list","query","limit","skip","customers","remove","deletedCustomer","listOfCustomersWithUserDetails","customersWithUserIds","updatedCustomers","map","x","y","JSON","stringify","push","all","getSales","fromDate","format","toDate","sales","promises","find","total","p","where","gte","startOf","lte","endOf","orders","forEach","order","final_cost","name","getSalesByCustomer"],"mappings":"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","file":"customer.controller.js","sourceRoot":"../../../../.."}