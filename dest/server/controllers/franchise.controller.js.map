{"version":3,"sources":["server/controllers/franchise.controller.js"],"names":["load","req","res","next","id","get","then","franchise","catch","e","json","create","name","body","teams","location","geo_fence","description","save","savedFranchise","createFranchise","user","firstName","lastName","username","password","mobileNumber","emailAddress","savedUser","_id","isAdmin","geoFence","updateLocation","updateTeams","update","list","query","limit","skip","franchises","remove","deletedFranchise","listOfFranchisesWithUserDetails","franchisesWithUserIds","updatedFranchises","map","x","y","JSON","stringify","push","all","getSales","fromDate","format","toDate","sales","promises","find","total","p","where","toString","gte","startOf","lte","endOf","orders","forEach","order","final_cost","getSalesByFranchise"],"mappings":"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","file":"franchise.controller.js","sourceRoot":"../../../../.."}