{"version":3,"sources":["server/controllers/manager.controller.js"],"names":["load","req","res","next","id","get","then","manager","catch","e","json","create","user","firstName","body","lastName","username","password","mobileNumber","emailAddress","save","savedUser","_id","isAdmin","isFranchiseAdmin","franchise","teams","savedManager","update","list","query","limit","skip","managers","remove","deletedManager","getSales","fromDate","format","toDate","sales","promises","find","map","total","p","where","in","gte","startOf","lte","endOf","orders","forEach","order","final_cost","push","name","all","getSalesByManager","toString"],"mappings":"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","file":"manager.controller.js","sourceRoot":"../../../../.."}