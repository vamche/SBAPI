{"version":3,"sources":["server/controllers/auth.controller.js"],"names":["config","require","login","req","res","next","getByUsername","body","username","then","user","password","userRole","getByUserId","_id","toString","token","sign","jwtSecret","pilot","json","pilotId","catch","err","UNAUTHORIZED","manager","customer","getRandomNumber","num","Math","random"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAGA,IAAMA,SAASC,QAAQ,kBAAR,CAAf;;AAEA;;;;;;;AAOA,SAASC,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AAC7B;AACA;AACE,iBAAKC,aAAL,CAAmBH,IAAII,IAAJ,CAASC,QAA5B,EACKC,IADL,CACU,UAACC,IAAD,EAAU;AACZ,QAAGA,KAAKC,QAAL,KAAkBR,IAAII,IAAJ,CAASI,QAA9B,EAAwC;AACpC,UAAGR,IAAII,IAAJ,CAASK,QAAT,KAAsB,OAAzB,EAAiC;AAC/B,wBAAMC,WAAN,CAAkBH,KAAKI,GAAL,CAASC,QAAT,EAAlB,EACKN,IADL,CACU,iBAAS;AACX,cAAMO,QAAQ,uBAAIC,IAAJ,CAAS;AACnBT,sBAAUE,KAAKF;AADI,WAAT,EAEXR,OAAOkB,SAFI,CAAd;AAGAC,gBAAMT,IAAN,CAAWC,QAAX,GAAsB,WAAtB;AACA,iBAAOP,IAAIgB,IAAJ,CAAS;AACZJ,wBADY;AAEZR,sBAAUE,KAAKF,QAFH;AAGZa,qBAASF,MAAML,GAHH;AAIZK,mBAAOA;AAJK,WAAT,CAAP;AAMH,SAZL,EAaKG,KAbL,CAaW,aAAK;AACV,cAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,YAAhD,CAAZ;AACA,iBAAOnB,KAAKkB,GAAL,CAAP;AACD,SAhBL;AAiBD,OAlBD,MAkBM,IAAGpB,IAAII,IAAJ,CAASK,QAAT,KAAsB,SAAzB,EAAmC;AACvC,0BAAQC,WAAR,CAAoBH,KAAKI,GAAL,CAASC,QAAT,EAApB,EACGN,IADH,CACQ,mBAAW;AACf,cAAMO,QAAQ,uBAAIC,IAAJ,CAAS;AACrBT,sBAAUE,KAAKF;AADM,WAAT,EAEXR,OAAOkB,SAFI,CAAd;AAGAO,kBAAQf,IAAR,CAAaC,QAAb,GAAwB,WAAxB;AACA,iBAAOP,IAAIgB,IAAJ,CAAS;AACdJ,wBADc;AAEdR,sBAAUE,KAAKF,QAFD;AAGdiB,qBAASA;AAHK,WAAT,CAAP;AAKD,SAXH,EAYGH,KAZH,CAYS,aAAK;AACV,cAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,YAAhD,CAAZ;AACA,iBAAOnB,KAAKkB,GAAL,CAAP;AACD,SAfH;AAgBD,OAjBK,MAiBA,IAAGpB,IAAII,IAAJ,CAASK,QAAT,KAAsB,UAAzB,EAAoC;AACxC,2BAASC,WAAT,CAAqBH,KAAKI,GAAL,CAASC,QAAT,EAArB,EACGN,IADH,CACQ,oBAAY;AAChB,cAAMO,QAAQ,uBAAIC,IAAJ,CAAS;AACrBT,sBAAUE,KAAKF;AADM,WAAT,EAEXR,OAAOkB,SAFI,CAAd;AAGAQ,mBAAShB,IAAT,CAAcC,QAAd,GAAyB,WAAzB;AACA,iBAAOP,IAAIgB,IAAJ,CAAS;AACdJ,wBADc;AAEdR,sBAAUE,KAAKF,QAFD;AAGdkB,sBAAUA;AAHI,WAAT,CAAP;AAKD,SAXH,EAYGJ,KAZH,CAYS,aAAK;AACV,cAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,YAAhD,CAAZ;AACA,iBAAOnB,KAAKkB,GAAL,CAAP;AACD,SAfH;AAgBD;AACJ;AACJ,GAzDL,EA0DKD,KA1DL,CA0DW,aAAK;AACR,QAAMC,MAAM,uBAAa,sBAAb,EAAqC,qBAAWC,YAAhD,CAAZ;AACA,WAAOnB,KAAKkB,GAAL,CAAP;AACH,GA7DL;AA8DH;;AAED;;;;;;AAMA,SAASI,eAAT,CAAyBxB,GAAzB,EAA8BC,GAA9B,EAAmC;AACjC;AACA,SAAOA,IAAIgB,IAAJ,CAAS;AACdV,UAAMP,IAAIO,IADI;AAEdkB,SAAKC,KAAKC,MAAL,KAAgB;AAFP,GAAT,CAAP;AAID;;kBAEc,EAAE5B,YAAF,EAASyB,gCAAT,E","file":"auth.controller.js","sourceRoot":"../../../../.."}